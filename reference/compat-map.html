<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Apply Functions in the spirit of 'purrr' — compat-map • mlr3misc</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Apply Functions in the spirit of 'purrr' — compat-map"><meta name="description" content="map-like functions, similar to the ones implemented in purrr:
map() returns the results of .f applied to .x as list.
If .f is not a function, map will call [[ on all elements of .x using the value of .f as index.
imap() applies .f to each value of .x (passed as first argument) and its name (passed as second argument).
If .x does not have names, a sequence along .x is passed as second argument instead.
pmap() expects .x to be a list of vectors of equal length, and then applies .f to the first element of
each vector of .x, then the second element of .x, and so on.
map_if() applies .f to each element of .x where the predicate .p evaluates to TRUE.
map_at() applies .f to each element of .x referenced by .at. All other elements remain unchanged.
keep() keeps those elements of .x where predicate .p evaluates to TRUE.
discard() discards those elements of .x where predicate .p evaluates to TRUE.
compact() discards elements of .x that are NULL.
every() is TRUE if predicate .p evaluates to TRUE for each .x.
some() is TRUE if predicate .p evaluates to TRUE for at least one .x.
detect() returns the first element where predicate .p evaluates to TRUE.
walk(), iwalk() and pwalk() are the counterparts to map(), imap() and pmap(), but
just visit (or change by reference) the elements of .x. They return input .x invisibly.


Additionally, the functions map(), imap() and pmap() have type-safe variants with the following suffixes:
*_lgl() returns a logical(length(.x)).
*_int() returns a integer(length(.x)).
*_dbl() returns a double(length(.x)).
*_chr() returns a character(length(.x)).
*_br() returns an object where the results of .f are put together with base::rbind().
*_bc() returns an object where the results of .f are put together with base::cbind().
*_dtr() returns a data.table::data.table() where the results of .f are put together
in an base::rbind() fashion.
*_dtc() returns a data.table::data.table() where the results of .f are put
together in an base::cbind() fashion.

"><meta property="og:description" content="map-like functions, similar to the ones implemented in purrr:
map() returns the results of .f applied to .x as list.
If .f is not a function, map will call [[ on all elements of .x using the value of .f as index.
imap() applies .f to each value of .x (passed as first argument) and its name (passed as second argument).
If .x does not have names, a sequence along .x is passed as second argument instead.
pmap() expects .x to be a list of vectors of equal length, and then applies .f to the first element of
each vector of .x, then the second element of .x, and so on.
map_if() applies .f to each element of .x where the predicate .p evaluates to TRUE.
map_at() applies .f to each element of .x referenced by .at. All other elements remain unchanged.
keep() keeps those elements of .x where predicate .p evaluates to TRUE.
discard() discards those elements of .x where predicate .p evaluates to TRUE.
compact() discards elements of .x that are NULL.
every() is TRUE if predicate .p evaluates to TRUE for each .x.
some() is TRUE if predicate .p evaluates to TRUE for at least one .x.
detect() returns the first element where predicate .p evaluates to TRUE.
walk(), iwalk() and pwalk() are the counterparts to map(), imap() and pmap(), but
just visit (or change by reference) the elements of .x. They return input .x invisibly.


Additionally, the functions map(), imap() and pmap() have type-safe variants with the following suffixes:
*_lgl() returns a logical(length(.x)).
*_int() returns a integer(length(.x)).
*_dbl() returns a double(length(.x)).
*_chr() returns a character(length(.x)).
*_br() returns an object where the results of .f are put together with base::rbind().
*_bc() returns an object where the results of .f are put together with base::cbind().
*_dtr() returns a data.table::data.table() where the results of .f are put together
in an base::rbind() fashion.
*_dtc() returns a data.table::data.table() where the results of .f are put
together in an base::cbind() fashion.

"><meta property="og:image" content="https://mlr3misc.mlr-org.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3misc</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.17.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3misc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Apply Functions in the spirit of 'purrr'</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3misc/blob/main/R/purrr_map.R" class="external-link"><code>R/purrr_map.R</code></a></small>
      <div class="d-none name"><code>compat-map.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>map</code>-like functions, similar to the ones implemented in <a href="https://CRAN.R-project.org/package=purrr" class="external-link"><span class="pkg">purrr</span></a>:</p><ul><li><p><code>map()</code> returns the results of <code>.f</code> applied to <code>.x</code> as list.
If <code>.f</code> is not a function, <code>map</code> will call <code>[[</code> on all elements of <code>.x</code> using the value of <code>.f</code> as index.</p></li>
<li><p><code>imap()</code> applies <code>.f</code> to each value of <code>.x</code> (passed as first argument) and its name (passed as second argument).
If <code>.x</code> does not have names, a sequence along <code>.x</code> is passed as second argument instead.</p></li>
<li><p><code>pmap()</code> expects <code>.x</code> to be a list of vectors of equal length, and then applies <code>.f</code> to the first element of
each vector of <code>.x</code>, then the second element of <code>.x</code>, and so on.</p></li>
<li><p><code>map_if()</code> applies <code>.f</code> to each element of <code>.x</code> where the predicate <code>.p</code> evaluates to <code>TRUE</code>.</p></li>
<li><p><code>map_at()</code> applies <code>.f</code> to each element of <code>.x</code> referenced by <code>.at</code>. All other elements remain unchanged.</p></li>
<li><p><code>keep()</code> keeps those elements of <code>.x</code> where predicate <code>.p</code> evaluates to <code>TRUE</code>.</p></li>
<li><p><code>discard()</code> discards those elements of <code>.x</code> where predicate <code>.p</code> evaluates to <code>TRUE</code>.</p></li>
<li><p><code>compact()</code> discards elements of <code>.x</code> that are <code>NULL</code>.</p></li>
<li><p><code>every()</code> is <code>TRUE</code> if predicate <code>.p</code> evaluates to <code>TRUE</code> for each <code>.x</code>.</p></li>
<li><p><code>some()</code> is <code>TRUE</code> if predicate <code>.p</code> evaluates to <code>TRUE</code> for at least one <code>.x</code>.</p></li>
<li><p><code>detect()</code> returns the first element where predicate <code>.p</code> evaluates to <code>TRUE</code>.</p></li>
<li><p><code>walk()</code>, <code>iwalk()</code> and <code>pwalk()</code> are the counterparts to <code>map()</code>, <code>imap()</code> and <code>pmap()</code>, but
just visit (or change by reference) the elements of <code>.x</code>. They return input <code>.x</code> invisibly.</p></li>
</ul><p>Additionally, the functions <code>map()</code>, <code>imap()</code> and <code>pmap()</code> have type-safe variants with the following suffixes:</p><ul><li><p><code>*_lgl()</code> returns a <code>logical(length(.x))</code>.</p></li>
<li><p><code>*_int()</code> returns a <code>integer(length(.x))</code>.</p></li>
<li><p><code>*_dbl()</code> returns a <code>double(length(.x))</code>.</p></li>
<li><p><code>*_chr()</code> returns a <code>character(length(.x))</code>.</p></li>
<li><p><code>*_br()</code> returns an object where the results of <code>.f</code> are put together with <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">base::rbind()</a></code>.</p></li>
<li><p><code>*_bc()</code> returns an object where the results of <code>.f</code> are put together with <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">base::cbind()</a></code>.</p></li>
<li><p><code>*_dtr()</code> returns a <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> where the results of <code>.f</code> are put together
in an <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">base::rbind()</a></code> fashion.</p></li>
<li><p><code>*_dtc()</code> returns a <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code> where the results of <code>.f</code> are put
together in an <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">base::cbind()</a></code> fashion.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">map</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_lgl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_int</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_dbl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_chr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_br</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_bc</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_dtr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span>, .fill <span class="op">=</span> <span class="cn">FALSE</span>, .idcol <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_dtc</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pmap</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pmap_lgl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pmap_int</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pmap_dbl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pmap_chr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pmap_dtr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span>, .fill <span class="op">=</span> <span class="cn">FALSE</span>, .idcol <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pmap_dtc</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imap</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imap_lgl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imap_int</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imap_dbl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imap_chr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imap_dtr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span>, .fill <span class="op">=</span> <span class="cn">FALSE</span>, .idcol <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">imap_dtc</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">keep</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">discard</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.p</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">compact</span><span class="op">(</span><span class="va">.x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_if</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.p</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">map_if</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.p</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_at</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.at</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">every</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.p</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">some</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.p</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">detect</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.p</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">walk</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">iwalk</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pwalk</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--x">.x<a class="anchor" aria-label="anchor" href="#arg--x"></a></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> | atomic <code><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector()</a></code>).</p></dd>


<dt id="arg--f">.f<a class="anchor" aria-label="anchor" href="#arg--f"></a></dt>
<dd><p>(<code>function()</code> | <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> | <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>)<br>
Function to apply, or element to extract by name (if <code>.f</code> is <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>) or position (if <code>.f</code> is <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>(<code>any</code>)<br>
Additional arguments passed down to <code>.f</code> or <code>.p</code>.</p></dd>


<dt id="arg--fill">.fill<a class="anchor" aria-label="anchor" href="#arg--fill"></a></dt>
<dd><p>(<code>logical(1)</code>)<br>
Passed down to <code><a href="https://rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">data.table::rbindlist()</a></code>.</p></dd>


<dt id="arg--idcol">.idcol<a class="anchor" aria-label="anchor" href="#arg--idcol"></a></dt>
<dd><p>(<code>logical(1)</code>)<br>
Passed down to <code><a href="https://rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">data.table::rbindlist()</a></code>.</p></dd>


<dt id="arg--p">.p<a class="anchor" aria-label="anchor" href="#arg--p"></a></dt>
<dd><p>(<code>function()</code> | <code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical()</a></code>)<br>
Predicate function.</p></dd>


<dt id="arg--at">.at<a class="anchor" aria-label="anchor" href="#arg--at"></a></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> | <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code> | <code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical()</a></code>)<br>
Index vector.</p></dd>

</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marc Becker, Michel Lang, Patrick Schratz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

